import { getPragueDateSeed, getPragueDateString } from "@/lib/pragueDate";

export const quoteTitles = [
  "SVĚT JE ZLE A MY TO VIDÍME",
  "FAKE LIDI VŠUDE KOLEM KAŽDEJ DEN",
  "SYSTÉM TĚ NEZASTAVÍ KDYŽ JEDEŠ DÁL",
  "CREW DRŽÍ LINII I V TOM BORDELU",
  "ULICE UČÍ VÍC NEŽ JAKÁKOLIV ŠKOLA",
  "REAL TALK ONLY ŽÁDNÝ BULLSHIT KOLEM",
  "ZLE NEBO VŮBEC TO JE JEDINÁ CESTA",
  "ŽÁDNÝ KOMPROMISY KDYŽ JDEŠ ZA SVÝM",
  "JEĎ SI TO PO SVÝM NEKOUKAT ZPÁTKY",
  "BETON JE TVŮJ DOMOV KDE VŠECHNO ZAČÍNÁ",
  "FLIP PŘES CHAOS A JEDEM DÁL VŽDYCKY",
  "PADÁŠ TAK VSTÁVEJ A JEDEM ZNOVA",
  "PRAHA NESPÍ A MY TAKY NE",
  "GRIND NIKDY NEKONČÍ TO JE ZLE ŽIVOT",
  "EGO NECH DOMA JDE NAD VŠECHNO",
  "STREET MOUDROST CO TĚ NAUČÍ VÍC",
  "ZLE LEVEL MAX KAŽDEJ DEN NAPLNO",
  "NAD VŠECHNO TO JE ZÁKON ULICE",
  "SVOBODA NA DESCE JE JEDINÁ PRAVDA",
  "RAW A REAL ŽÁDNÁ FAKE PÓZA",
  "ŽÁDNÝ VÝMLUVY PROSTĚ ZVEDNI SE A JEĎ",
  "BORDEL V SYSTÉMU ALE MY JEDEME DÁL",
  "AUTENTICITA NAD FLEXEM TO JE CESTA",
  "UNDERGROUND FOREVER TO NIKDO NEZASTAVÍ",
  "DNEŠEK JE TVŮJ VEZMI SI HO",
];

export const dailyLines = [
  "ZLE je jít jen na jedno a řešit to až zejtra.",
  "ZLE je říct si 'už fakt končím' a objednat další.",
  "ZLE je když víš, že to není dobrej nápad… a stejně ho uděláš.",
  "ZLE je plánovat budoucnost s kocovinou.",
  "ZLE je když tě seberou papíry, ale náladu ne.",
  "ZLE je žít tak, že na to máš historky.",
  "ZLE je když to dává smysl jen těm, co tam byli.",
  "ZLE je probudit se a zjistit, že včerejšek byl průser.",
  "ZLE je když ti někdo řekne 'to bude dobrý' a oba víte, že nebude.",
  "ZLE je přijít domů ve 4 a tvářit se, že bylo 12.",
  "ZLE je říct 'příště už ne' a příště zas jo.",
  "ZLE je mít kocovinu a tvářit se, že jsi jen unavej.",
  "ZLE je když ti to blbě sedí, ale stejně to uděláš.",
  "ZLE je poslat zprávu opilej a ráno to řešit.",
  "ZLE je vědět, že to budeš litovat, a udělat to stejně.",
  "ZLE je když ti dojdou výmluvy a zbyde jen pravda.",
  "ZLE je být vyndanej z reality a cítit se líp než v ní.",
  "ZLE je nechat se nasrat a pak to hodit za hlavu.",
  "ZLE je dělat věci zbytečně komplikovaně, protože jinak to neumíš.",
  "ZLE je přežít týden a pak ho zapít za jeden večer.",
  "ZLE je říct 'to je naposledy' a vědět, že to není.",
  "ZLE je když máš průser a nevíš, kterej řešit první.",
  "ZLE je vstát s kocovinou a jít do práce jako by nic.",
  "ZLE je mít plán a pak ho zbourat na prvním pivu.",
  "ZLE je přežít pondělí a odměnit se za to úterkem.",
  "ZLE je vědět, že to dopadne blbě, ale jít do toho stejně.",
  "ZLE je když tě někdo pozve na jedno a skončíš ve tři ráno.",
  "ZLE je ráno nenávidět sám sebe a večer to opakovat.",
  "ZLE je říct 'ještě jedno' pětkrát za sebou.",
  "ZLE je mít víc průserů než dnů v týdnu.",
  "ZLE je když ti život nadělí a ty to stejně pokazíš.",
  "ZLE je být střízlivej a chovat se jak opilej.",
  "ZLE je mít názor a držet hubu, protože to nestojí za to.",
  "ZLE je přežít pátek a nepřežít sobotu.",
  "ZLE je zjistit, že včerejšek byl tvůj nejlepší nápad.",
  "ZLE je mít kocovinu a tvářit se, že jsi produktivní.",
  "ZLE je když ti řeknou 'uklidni se' a ty se naopak nasereš.",
  "ZLE je jet na víkend a vrátit se za týden.",
  "ZLE je udělat průser a pak ho řešit dalším průserem.",
  "ZLE je přiznat chybu a pak ji udělat zas.",
  "ZLE je mít peníze na účtu a stejně je nemít.",
  "ZLE je vědět, že máš problém, a řešit ho pivem.",
  "ZLE je když ti někdo řekne pravdu a ty ji nechceš slyšet.",
  "ZLE je jít spát s myšlenkou 'příště to udělám líp' a neudělat.",
  "ZLE je mít kocovinu a volat to 'detox'.",
  "ZLE je být ten, co to vždycky pokazí, ale aspoň to ví.",
  "ZLE je přežít noc a pak se divit, že je den.",
  "ZLE je říct 'mám to pod kontrolou' a nemít.",
  "ZLE je dělat chyby vědomě a pak se tvářit překvapeně.",
  "ZLE je žít tak, že ti nikdo nevěří, co se ti stalo.",
];

export const quoteMessages = [
  "Nečekej, až to spraví někdo jinej. Udělej si svůj kus svobody sám.",
  "Real je ten moment, kdy stojíš na místě a svět kolem běží.",
  "Systém tě chce za stolem, ty chceš jinam. Rozhodnutí je na tobě.",
  "Každej pád tě učí víc než tisíc rad. Vstávej a jeď dál.",
  "Jsou lidi, který sis vybral. Drž je a oni drží tebe.",
  "Pravdu najdeš jen tam, kde jsi sám se sebou.",
  "Práce, nájem, účty – ale večer je tvůj. A to stačí.",
  "Tvůj styl, tvoje pravidla. Svět se přizpůsobí.",
  "Underground není místo, je to stav mysli.",
  "Když padáš, nikdo se neptá. Když vstaneš, všichni sledujou.",
  "Město je playground pro ty, co se nebojí.",
  "Žádnej shortcut k ničemu reálnýmu. Jen čas a práce.",
  "Real poznáš podle toho, že se neptá na tvý čísla.",
  "Chaos je normální, to je život. Jeď skrz něj.",
  "Někdo prodává sny za kredity. My jedeme realitu.",
  "Svobodu ti nikdo nedá. Vezmi si ji sám.",
  "Každý místo má svůj příběh. Napiš do něj ten svůj.",
  "Není to značka na tričku. Je to způsob jak žiješ.",
  "Realita učí víc než teorie. To je prostě fakt.",
  "Když tě život nezlomí, tak tě nic nezlomí.",
  "Fake lidi mají fake problémy. My máme reálný.",
  "Drž linii, i když svět šílí. To je cesta.",
  "Tvoje tempo je tvoje. Tu ti nikdo nevezme.",
  "Underground forever. To nikdo nezastaví.",
  "Dneska je tvůj den. Tak ho neprospi.",
];

export const quoteOpeners = [
  "Dneska je ZLE",
  "ZLE znamená",
  "ZLE level:",
  "ZLE den je",
  "Tohle je ZLE:",
  "ZLE vibe:",
  "Dneska jeď",
  "Real talk:",
  "Street moudrost:",
  "ZLE filosofie:",
  "Dnešní mise:",
];

export const quoteCore = [
  "šlápnout na realitu a jet dál",
  "přežít den i noc",
  "když ti plán uteče, ale vibe zůstane",
  "nezastavit se, i když tě život grindne",
  "jet po svým a nechat svět ať drží krok",
  "držet směr a posílat to dál",
  "když ulice učí víc než škola",
  "jet tvrdě, ale fair",
  "když každej den je výzva",
  "nechat ego doma a jet dál",
  "když padáš, vstáváš silnější",
  "držet linii i v chaosu",
  "jet naplno nebo vůbec",
  "když tě město nezlomí",
  "být real uprostřed fake světa",
];

export const quoteLevels = [
  "level 1: probudit se a jít ven",
  "level 2: najít místo a být",
  "level 3: přežít práci a pak žít",
  "level 4: naučit se něco nového",
  "level 5: pomoct někomu s něčím",
  "level 6: jet i v dešti, protože proč ne",
  "level 7: přežít den i noc",
  "level 8: rozjet něco nového",
  "level 9: jedeme spolu",
  "level MAX: žít to naplno",
];

export const vibeWords = [
  "street",
  "grind",
  "vibe",
  "real",
  "raw",
  "underground",
  "město",
  "beton",
  "noc",
  "den",
  "flow",
  "style",
  "moment",
  "energie",
  "pohyb",
  "svoboda",
  "chaos",
  "klid",
  "focus",
  "drive",
  "respect",
  "trust",
];

export interface ZleQuoteData {
  title: string;
  message: string;
  dailyLine: string;
}

function seededRandom(seed: number, max: number, offset: number = 0): number {
  const x = Math.sin(seed + offset) * 10000;
  return Math.floor((x - Math.floor(x)) * max);
}

export function generateDailyLine(): ZleQuoteData {
  const seed = getPragueDateSeed();
  
  const titleIndex = seededRandom(seed, quoteTitles.length, 1);
  const messageIndex = seededRandom(seed, quoteMessages.length, 2);
  const dailyLineIndex = seededRandom(seed, dailyLines.length, 3);
  
  return {
    title: quoteTitles[titleIndex],
    message: quoteMessages[messageIndex],
    dailyLine: dailyLines[dailyLineIndex],
  };
}

export function generateDailyQuote(): string {
  const { dailyLine } = generateDailyLine();
  return dailyLine;
}

export function getTodayQuote(): ZleQuoteData {
  const pragueToday = getPragueDateString();
  const storageKey = "zleQuoteV4";
  const storedData = localStorage.getItem(storageKey);
  
  if (storedData) {
    try {
      const { date, quote } = JSON.parse(storedData);
      if (date === pragueToday && quote.title && quote.message && quote.dailyLine) {
        return quote;
      }
    } catch {
    }
  }
  
  const newQuote = generateDailyLine();
  localStorage.setItem(storageKey, JSON.stringify({ date: pragueToday, quote: newQuote }));
  return newQuote;
}

export function getTodayDailyLine(): string {
  const { dailyLine } = getTodayQuote();
  return dailyLine;
}

export function getSimpleQuote(): string {
  const seed = getPragueDateSeed();
  
  const type = seededRandom(seed, 3, 10);
  
  if (type === 0) {
    const opener = quoteOpeners[seededRandom(seed, quoteOpeners.length, 11)];
    const core = quoteCore[seededRandom(seed, quoteCore.length, 12)];
    return `${opener} ${core}.`;
  } else if (type === 1) {
    return quoteLevels[seededRandom(seed, quoteLevels.length, 13)];
  } else {
    const word1 = vibeWords[seededRandom(seed, vibeWords.length, 14)];
    const word2 = vibeWords[seededRandom(seed, vibeWords.length, 15)];
    const core = quoteCore[seededRandom(seed, quoteCore.length, 16)];
    return `ZLE je ${word1} a ${word2}. ${core.charAt(0).toUpperCase() + core.slice(1)}.`;
  }
}
