import { getPragueDateSeed, getPragueDateString } from "@/lib/pragueDate";

export const quoteTitles = [
  "SVĚT JE ZLE A MY TO VIDÍME",
  "FAKE LIDI VŠUDE KOLEM KAŽDEJ DEN",
  "SYSTÉM TĚ NEZASTAVÍ KDYŽ JEDEŠ DÁL",
  "CREW DRŽÍ LINII I V TOM BORDELU",
  "ULICE UČÍ VÍC NEŽ JAKÁKOLIV ŠKOLA",
  "REAL TALK ONLY ŽÁDNÝ BULLSHIT KOLEM",
  "ZLE NEBO VŮBEC TO JE JEDINÁ CESTA",
  "ŽÁDNÝ KOMPROMISY KDYŽ JDEŠ ZA SVÝM",
  "JEĎ SI TO PO SVÝM NEKOUKAT ZPÁTKY",
  "BETON JE TVŮJ DOMOV KDE VŠECHNO ZAČÍNÁ",
  "FLIP PŘES CHAOS A JEDEM DÁL VŽDYCKY",
  "PADÁŠ TAK VSTÁVEJ A JEDEM ZNOVA",
  "PRAHA NESPÍ A MY TAKY NE",
  "GRIND NIKDY NEKONČÍ TO JE ZLE ŽIVOT",
  "EGO NECH DOMA JDE NAD VŠECHNO",
  "STREET MOUDROST CO TĚ NAUČÍ VÍC",
  "ZLE LEVEL MAX KAŽDEJ DEN NAPLNO",
  "NAD VŠECHNO TO JE ZÁKON ULICE",
  "SVOBODA NA DESCE JE JEDINÁ PRAVDA",
  "RAW A REAL ŽÁDNÁ FAKE PÓZA",
  "ŽÁDNÝ VÝMLUVY PROSTĚ ZVEDNI SE A JEĎ",
  "BORDEL V SYSTÉMU ALE MY JEDEME DÁL",
  "AUTENTICITA NAD FLEXEM TO JE CESTA",
  "UNDERGROUND FOREVER TO NIKDO NEZASTAVÍ",
  "DNEŠEK JE TVŮJ VEZMI SI HO",
];

export const dailyLines = [
  "ZLE je pondělí, co vypadá jak pátek, ale chová se jak úterý po budíku.",
  "ZLE je ten moment, kdy víš, že máš vstát, ale tělo hlasuje proti.",
  "ZLE je mít plán a pak ho ignorovat, protože venku svítí slunce.",
  "ZLE je ticho před bouří, akorát ta bouře nikdy nepřijde a ty čekáš dál.",
  "ZLE je odpovědět si sám sobě upřímně a pak to stejně udělat jinak.",
  "ZLE je vědět, že to nejde, a stejně to zkusit, protože proč ne.",
  "ZLE je den, kdy všechno sedí, a ty čekáš, kdy se to posere.",
  "ZLE je pocit, když wifi funguje, ale motivace ne.",
  "ZLE je najít klid v chaosu a chaos v klidu. Normální pátek.",
  "ZLE je mít v hlavě bordel, ale navenek držet linii.",
  "ZLE je přežít týden a pak nevědět, co s víkendem.",
  "ZLE je jet po svým, i když nikdo neví, kam to vede.",
  "ZLE je mít názor a nechat si ho pro sebe, protože internet.",
  "ZLE je vstát dřív než budík a pak ležet a čekat, až zazvoní.",
  "ZLE je udělat něco dobře a nikdo si toho nevšimne. Tak normálně.",
  "ZLE je vědět, že zítra bude lepší, ale dneska to taky není špatný.",
  "ZLE je den, kdy ti nesedí boty, ale jedeš dál, protože co jinak.",
  "ZLE je myslet si, že rozumíš, a pak zjistit, že vůbec.",
  "ZLE je mít energii na plány, ale ne na jejich realizaci.",
  "ZLE je najít spot, kde tě nikdo neruší, a pak tam zůstat hodiny.",
  "ZLE je jet městem v noci, kdy všichni spí a ulice patří tobě.",
  "ZLE je cítit se divně a být s tím v pohodě.",
  "ZLE je den, kdy ti dojde, že nikdo neví, co dělá. Ani ty.",
  "ZLE je udělat chybu, opravit ji, a pak ji udělat znova. Progres.",
  "ZLE je mít v peněžence míň než v hlavě nápadů.",
  "ZLE je žít v systému, kterej nechápeš, ale nějak to jde.",
  "ZLE je říct ne, když všichni čekaj, že řekneš jo.",
  "ZLE je pocit po kávě, kdy máš energii, ale nevíš na co.",
  "ZLE je vědět, že to zvládneš, ale nechat si to pro sebe.",
  "ZLE je ten den, kdy všechno padá na místo. Jednou za čas.",
  "ZLE je jet dál, i když nevíš kam. Směr se ukáže.",
  "ZLE je mít v hlavě tisíc myšlenek a říct nahlas nula.",
  "ZLE je cítit se jako doma na místě, kde jsi nikdy nebyl.",
  "ZLE je udělat něco poprvé a tvářit se, že to děláš roky.",
  "ZLE je mít strach a jít do toho stejně. To je celej trik.",
  "ZLE je den, kdy se nic neděje, a přesto se všechno mění.",
  "ZLE je najít rovnováhu a pak ji schválně narušit.",
  "ZLE je mít čas a nevědět, co s ním. Vzácnej problém.",
  "ZLE je jet po svým tempem, zatímco svět pospíchá kolem.",
  "ZLE je pocit, když ti to konečně sedne. A víš, že příště ne.",
  "ZLE je vědět, že nic není perfektní, a dělat to stejně.",
  "ZLE je den, kdy tě nic nebaví, ale stejně něco uděláš.",
  "ZLE je mít plnou hlavu a prázdnej diář. Nebo naopak.",
  "ZLE je jet proti proudu a zjistit, že proud neexistuje.",
  "ZLE je přežít pondělí a cítit se jako hrdina. Právem.",
  "ZLE je mít otázky, na který nikdo nemá odpovědi. A jet dál.",
  "ZLE je ten moment ticha, kdy všechno dává smysl. Na chvíli.",
  "ZLE je vědět, že to není dokonalý, a být s tím ok.",
  "ZLE je udělat krok zpátky, abys viděl, kam jdeš.",
  "ZLE je cítit únavu a jet dál, protože odpočinek počká.",
];

export const quoteMessages = [
  "Nečekej, až to spraví někdo jinej. Udělej si svůj kus svobody sám.",
  "Real je ten moment, kdy stojíš na místě a svět kolem běží.",
  "Systém tě chce za stolem, ty chceš jinam. Rozhodnutí je na tobě.",
  "Každej pád tě učí víc než tisíc rad. Vstávej a jeď dál.",
  "Jsou lidi, který sis vybral. Drž je a oni drží tebe.",
  "Pravdu najdeš jen tam, kde jsi sám se sebou.",
  "Práce, nájem, účty – ale večer je tvůj. A to stačí.",
  "Tvůj styl, tvoje pravidla. Svět se přizpůsobí.",
  "Underground není místo, je to stav mysli.",
  "Když padáš, nikdo se neptá. Když vstaneš, všichni sledujou.",
  "Město je playground pro ty, co se nebojí.",
  "Žádnej shortcut k ničemu reálnýmu. Jen čas a práce.",
  "Real poznáš podle toho, že se neptá na tvý čísla.",
  "Chaos je normální, to je život. Jeď skrz něj.",
  "Někdo prodává sny za kredity. My jedeme realitu.",
  "Svobodu ti nikdo nedá. Vezmi si ji sám.",
  "Každý místo má svůj příběh. Napiš do něj ten svůj.",
  "Není to značka na tričku. Je to způsob jak žiješ.",
  "Realita učí víc než teorie. To je prostě fakt.",
  "Když tě život nezlomí, tak tě nic nezlomí.",
  "Fake lidi mají fake problémy. My máme reálný.",
  "Drž linii, i když svět šílí. To je cesta.",
  "Tvoje tempo je tvoje. Tu ti nikdo nevezme.",
  "Underground forever. To nikdo nezastaví.",
  "Dneska je tvůj den. Tak ho neprospi.",
];

export const quoteOpeners = [
  "Dneska je ZLE",
  "ZLE znamená",
  "ZLE level:",
  "ZLE den je",
  "Tohle je ZLE:",
  "ZLE vibe:",
  "Dneska jeď",
  "Real talk:",
  "Street moudrost:",
  "ZLE filosofie:",
  "Dnešní mise:",
];

export const quoteCore = [
  "šlápnout na realitu a jet dál",
  "přežít den i noc",
  "když ti plán uteče, ale vibe zůstane",
  "nezastavit se, i když tě život grindne",
  "jet po svým a nechat svět ať drží krok",
  "držet směr a posílat to dál",
  "když ulice učí víc než škola",
  "jet tvrdě, ale fair",
  "když každej den je výzva",
  "nechat ego doma a jet dál",
  "když padáš, vstáváš silnější",
  "držet linii i v chaosu",
  "jet naplno nebo vůbec",
  "když tě město nezlomí",
  "být real uprostřed fake světa",
];

export const quoteLevels = [
  "level 1: probudit se a jít ven",
  "level 2: najít místo a být",
  "level 3: přežít práci a pak žít",
  "level 4: naučit se něco nového",
  "level 5: pomoct někomu s něčím",
  "level 6: jet i v dešti, protože proč ne",
  "level 7: přežít den i noc",
  "level 8: rozjet něco nového",
  "level 9: jedeme spolu",
  "level MAX: žít to naplno",
];

export const vibeWords = [
  "street",
  "grind",
  "vibe",
  "real",
  "raw",
  "underground",
  "město",
  "beton",
  "noc",
  "den",
  "flow",
  "style",
  "moment",
  "energie",
  "pohyb",
  "svoboda",
  "chaos",
  "klid",
  "focus",
  "drive",
  "respect",
  "trust",
];

export interface ZleQuoteData {
  title: string;
  message: string;
  dailyLine: string;
}

function seededRandom(seed: number, max: number, offset: number = 0): number {
  const x = Math.sin(seed + offset) * 10000;
  return Math.floor((x - Math.floor(x)) * max);
}

export function generateDailyLine(): ZleQuoteData {
  const seed = getPragueDateSeed();
  
  const titleIndex = seededRandom(seed, quoteTitles.length, 1);
  const messageIndex = seededRandom(seed, quoteMessages.length, 2);
  const dailyLineIndex = seededRandom(seed, dailyLines.length, 3);
  
  return {
    title: quoteTitles[titleIndex],
    message: quoteMessages[messageIndex],
    dailyLine: dailyLines[dailyLineIndex],
  };
}

export function generateDailyQuote(): string {
  const { dailyLine } = generateDailyLine();
  return dailyLine;
}

export function getTodayQuote(): ZleQuoteData {
  const pragueToday = getPragueDateString();
  const storageKey = "zleQuoteV4";
  const storedData = localStorage.getItem(storageKey);
  
  if (storedData) {
    try {
      const { date, quote } = JSON.parse(storedData);
      if (date === pragueToday && quote.title && quote.message && quote.dailyLine) {
        return quote;
      }
    } catch {
    }
  }
  
  const newQuote = generateDailyLine();
  localStorage.setItem(storageKey, JSON.stringify({ date: pragueToday, quote: newQuote }));
  return newQuote;
}

export function getTodayDailyLine(): string {
  const { dailyLine } = getTodayQuote();
  return dailyLine;
}

export function getSimpleQuote(): string {
  const seed = getPragueDateSeed();
  
  const type = seededRandom(seed, 3, 10);
  
  if (type === 0) {
    const opener = quoteOpeners[seededRandom(seed, quoteOpeners.length, 11)];
    const core = quoteCore[seededRandom(seed, quoteCore.length, 12)];
    return `${opener} ${core}.`;
  } else if (type === 1) {
    return quoteLevels[seededRandom(seed, quoteLevels.length, 13)];
  } else {
    const word1 = vibeWords[seededRandom(seed, vibeWords.length, 14)];
    const word2 = vibeWords[seededRandom(seed, vibeWords.length, 15)];
    const core = quoteCore[seededRandom(seed, quoteCore.length, 16)];
    return `ZLE je ${word1} a ${word2}. ${core.charAt(0).toUpperCase() + core.slice(1)}.`;
  }
}
