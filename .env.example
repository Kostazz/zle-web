# ZLE E-shop Environment Variables
# Copy this file to .env and fill in your values

# ─────────────────────────────────────────────────────────────
# Core (server)
# ─────────────────────────────────────────────────────────────
DATABASE_URL=postgres://zle:zle@localhost:5432/zle # REQUIRED in prod
PORT=5000 # OPTIONAL (defaults to 5000)
NODE_ENV=development # OPTIONAL locally (Render sets production automatically)
NPM_CONFIG_PRODUCTION=true # OPTIONAL (Render build setting)

# ─────────────────────────────────────────────────────────────
# Session / Auth
# ─────────────────────────────────────────────────────────────
SESSION_SECRET=your-session-secret-here # REQUIRED in prod
ENABLE_AUTH=false # OPTIONAL (disabled by default)


# ─────────────────────────────────────────────────────────────
# Stripe
# ─────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=YOUR_STRIPE_SECRET_KEY # REQUIRED in prod
STRIPE_PUBLISHABLE_KEY=YOUR_STRIPE_PUBLISHABLE_KEY # REQUIRED in prod (frontend)
STRIPE_WEBHOOK_SECRET=YOUR_STRIPE_WEBHOOK_SECRET # REQUIRED in prod
STRIPE_WEBHOOK_UUID= # OPTIONAL (extra webhook hardening)
ENABLE_STRIPE=true # OPTIONAL (set false to disable)

# ─────────────────────────────────────────────────────────────
# Email (Resend)
# ─────────────────────────────────────────────────────────────
RESEND_API_KEY=YOUR_RESEND_API_KEY # REQUIRED in prod
RESEND_FROM_EMAIL=hello@your-domain.com # REQUIRED in prod (verified domain)
MAIL_FROM= # OPTIONAL (fallback)
FULFILLMENT_EMAIL_TO=orders@your-domain.com # REQUIRED in prod
ENABLE_EMAIL=true # OPTIONAL (set false to disable)

# ─────────────────────────────────────────────────────────────
# Public URLs
# ─────────────────────────────────────────────────────────────
PUBLIC_BASE_URL=https://your-domain.com # REQUIRED in prod (server URLs)
PUBLIC_URL= # OPTIONAL (legacy)
EXPORT_TOKEN= # OPTIONAL (required if using /api/exports endpoints)

# ─────────────────────────────────────────────────────────────
# OPS / Webhooks
# ─────────────────────────────────────────────────────────────
OPS_TOKEN= # OPTIONAL (required if OPS endpoints enabled)
OPS_WEBHOOK_URL= # OPTIONAL
OPS_WEBHOOK_SECRET= # OPTIONAL
OPS_EMAIL_TO= # OPTIONAL
OPS_EVENTS_ENABLED=false # OPTIONAL
ENABLE_OPS=false # OPTIONAL

# ═════════════════════════════════════════════════════════════
# ZLE Pre-Launch Test Runner v1.0.1 (dev-only)
# ═════════════════════════════════════════════════════════════
DEV_TEST_TOKEN=zle-dev-test-2024 # OPTIONAL (dev-only)

# ═════════════════════════════════════════════════════════════
# ZLE DAILY LINE ENGINE v1.0
# ═════════════════════════════════════════════════════════════

# OpenAI API key used for daily line generation
OPENAI_API_KEY=sk-your-openai-api-key # OPTIONAL

# OpenAI model (safe default)
OPENAI_MODEL= # OPTIONAL (set only if you know the exact supported model name)

# Secret for cron / manual generation endpoint
# Used in header: x-cron-secret
DAILY_LINE_CRON_SECRET=change-this-to-long-random-string # OPTIONAL
DAILY_LINE_ENABLE=false # OPTIONAL

# ═════════════════════════════════════════════════════════════
# Abandoned order sweeper (D4.1)
# ═════════════════════════════════════════════════════════════
ABANDONED_ORDER_TTL_MINUTES=1440 # OPTIONAL
ABANDONED_SWEEP_INTERVAL_MS=1800000 # OPTIONAL
ABANDONED_SWEEP_RUN_ON_BOOT=true # OPTIONAL

# ─────────────────────────────────────────────────────────────
# Client (Vite)
# ─────────────────────────────────────────────────────────────
VITE_ENABLE_AUTH=false # OPTIONAL
VITE_ZLE_ADMIN_KEY= # OPTIONAL (admin soft-lock)
VITE_PUBLIC_SITE_URL=https://zleshop.cz # REQUIRED in prod (canonical client URL)
VITE_GA_MEASUREMENT_ID= # OPTIONAL (GA4 Measurement ID, e.g. G-XXXXXXXXXX)
VITE_TWITTER_SITE= # OPTIONAL (Twitter/X handle for social cards, e.g. @zle)
VITE_GOOGLE_SITE_VERIFICATION= # OPTIONAL (Google Search Console verification token)
VITE_BING_SITE_VERIFICATION= # OPTIONAL (Bing Webmaster Tools verification token)
VITE_LEGAL_OPERATOR_NAME=ZLE # REQUIRED in prod
VITE_LEGAL_OPERATOR_ADDRESS=Your address here # REQUIRED in prod
VITE_LEGAL_CONTACT_EMAIL=kontakt@your-domain.com # REQUIRED in prod
VITE_LEGAL_LAST_UPDATED=2025-01-01 # REQUIRED in prod
